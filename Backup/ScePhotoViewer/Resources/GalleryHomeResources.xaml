<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ScePhotoData="clr-namespace:ScePhoto.Data;assembly=ScePhoto"
                    xmlns:ScePhotoControls="clr-namespace:ScePhoto.Controls;assembly=ScePhoto"
                    xmlns:ScePhoto="clr-namespace:ScePhoto;assembly=ScePhoto"
                    xmlns:ScePhotoViewer="clr-namespace:ScePhotoViewer">

    <!-- Converter to clean HTML formatting out of displayed text -->
    <ScePhotoViewer:HtmlToCleanStringConverter x:Key="HtmlToCleanStringConverter"/>

    <!-- Converter to format the application dates consistently -->
    <ScePhotoViewer:DateTimeToStringConverter x:Key="DateTimeConverter"/>

    <!-- Virtualizing panel used to display thumbnails -->
    <ItemsPanelTemplate x:Key="VirtualizingHorizontalRowPanel">
        <ScePhotoViewer:RowScrollingPanel ItemHeight="78" ItemWidth="74"/>
    </ItemsPanelTemplate>

    <!-- Virtualizing panel used to display thumbnails in the mini view-->
    <ItemsPanelTemplate x:Key="VirtualizingMiniHorizontalRowPanel">
        <ScePhotoViewer:RowScrollingPanel ItemHeight="70" ItemWidth="70"/>
    </ItemsPanelTemplate>

    <!-- Virtualizing panel used to display the list of albums on the right of the screen -->
    <ItemsPanelTemplate x:Key="VirtualizingVerticalRowPanel">
        <ScePhotoViewer:RowScrollingPanel ItemHeight="108" ItemWidth="370"/>
    </ItemsPanelTemplate>

    <!-- Template for a thumbnail displayed in the gallery home -->
    <DataTemplate x:Key="GalleryItemTemplate">
        <Button Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoCommand}" CommandParameter="{Binding}" Style="{StaticResource AnimatedItemButton}" Margin="2,6">
            <Border BorderBrush="#444444" BorderThickness="1" Margin="3">
                <Border.ToolTip>
                    <ToolTip Background="#555555" BorderBrush="#999999" BorderThickness="1">
                        <Border BorderBrush="#777777" BorderThickness="1" Margin="4">
                            <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding}" Height="200" RenderTransformOrigin="0.5,0.5" Focusable="False" />
                        </Border>
                    </ToolTip>
                </Border.ToolTip>
                <ScePhotoControls:PhotoThumbnailControl Photo="{Binding}" Width="70" Height="70" RenderTransformOrigin="0.5,0.5" Focusable="False" />
            </Border>
        </Button>
    </DataTemplate>

    <!-- Text style for album titles -->
    <Style TargetType="Hyperlink" x:Key="AlbumTitleLink">
        <Setter Property="Foreground" Value="#DDDDDD"/>
        <Setter Property="TextDecorations" Value="None"/>
        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Foreground" Value="#AAAAAA"/>
                <Setter Property="TextDecorations" Value="Underline"/>
            </Trigger>
            <Trigger Property="IsKeyboardFocused" Value="True">
                <Setter Property="Foreground" Value="#AAAAAA"/>
                <Setter Property="TextDecorations" Value="Underline"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Text style for the albums displayed in the right bar -->
    <Style TargetType="TextBlock" x:Key="RightBarPhotoAlbumText">
        <Setter Property="Foreground" Value="#DDDDDD"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType={x:Type Button}}, Path=IsMouseOver}" Value="True">
                <Setter Property="Foreground" Value="Black" />
            </DataTrigger>
            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType={x:Type Button}}, Path=IsKeyboardFocused}" Value="True">
                <Setter Property="Foreground" Value="Black" />
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- Template for photo albums displayed in the right bar -->
    <DataTemplate x:Key="RightBarPhotoAlbum">
        <Button Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}" Style="{StaticResource AnimatedItemButton}" Margin="30,5,0,5">
            <Grid DataContext="{Binding Path=Content}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Border BorderBrush="#444444" BorderThickness="1" Margin="4,4,4,4" VerticalAlignment="Center">
                    <ScePhotoControls:PhotoThumbnailControl Photo="{Binding Path=Photos[0]}" Width="100" Height="100" RenderTransformOrigin="0.5,0.5" Focusable="False"/>
                </Border>
                <StackPanel Grid.Column="1" Margin="10,5,10,0">
                    <TextBlock Text="{Binding Path=Title}" Style="{StaticResource RightBarPhotoAlbumText}" FontWeight="Bold" FontSize="16"/>
                <TextBlock Style="{StaticResource RightBarPhotoAlbumText}">
                    <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> | 
                    <TextBlock Text="{Binding Path=Photos.Count}"/> Photos 
                </TextBlock>
                <TextBlock Text="{Binding Path=Description, Mode=OneWay, Converter={StaticResource HtmlToCleanStringConverter}}" Style="{StaticResource RightBarPhotoAlbumText}" FontSize="14" Margin="0,14,0,0" TextWrapping="Wrap" MaxHeight="42"/>
            </StackPanel>
            </Grid>
        </Button>
    </DataTemplate>

    <!-- Template to display the photos in an album horizontally, used in the gallery home list view -->
    <DataTemplate x:Key="ListPhotoAlbum">
        <Grid Height="120">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Line X1="0" Y1="0" X2="{Binding RelativeSource={RelativeSource AncestorType={x:Type Grid}}, Path=ActualWidth}" Y2="0" Stroke="#888888" StrokeThickness="1" Margin="20,0,20,15" StrokeDashArray="1 2"/>
            <Grid Margin="20,0,20,10" Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Margin="0,10,25,0">
                    <TextBlock Foreground="#DDDDDD" FontWeight="Bold" FontSize="14" TextWrapping="Wrap">
              <Hyperlink Focusable="False" Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}">
                <TextBlock Text="{Binding Path=Title}"/>
              </Hyperlink>
            </TextBlock>
                    <TextBlock Foreground="#DDDDDD">
              <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> |
              <TextBlock Text="{Binding Path=Photos.Count}"/> Photos
            </TextBlock>
                </StackPanel>
                <StackPanel Grid.Column="1">
                    <ListBox ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.HorizontalScrollBarVisibility="Disabled" BorderBrush="Transparent" 
                     BorderThickness="0" Panel.ZIndex="5" x:Name="PhotoThumbnails" Background="Transparent" HorizontalAlignment="Stretch" Height="85" 
                     ItemsSource="{Binding Path=Photos}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" 
                     ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False" KeyboardNavigation.DirectionalNavigation="Continue" 
                     KeyboardNavigation.TabNavigation="Continue" ItemContainerStyle="{StaticResource UnselectableListBoxItem}"/>
                </StackPanel>
            </Grid>
        </Grid>
    </DataTemplate>

    <!-- Template to display the photos in an album horizontally, used in the gallery home list view -->
    <DataTemplate x:Key="MiniListPhotoAlbum">
        <Grid Margin="0,10,0,-20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Line X1="0" Y1="0" X2="{Binding RelativeSource={RelativeSource AncestorType={x:Type Grid}}, Path=ActualWidth}" Y2="0" Stroke="#888888" StrokeThickness="1" Margin="20,0,20,5" StrokeDashArray="1 2"/>
            <Grid Margin="20,0,20,0" Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Margin="0,0,25,0">
                    <TextBlock Foreground="#DDDDDD" FontWeight="Bold" FontSize="14" TextWrapping="Wrap">
              <Hyperlink Focusable="False" Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}">
                <TextBlock Text="{Binding Path=Title}"/>
              </Hyperlink>
            </TextBlock>
                    <TextBlock Foreground="#DDDDDD">
              <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> |
              <TextBlock Text="{Binding Path=Photos.Count}"/> Photos
            </TextBlock>
                </StackPanel>
                <StackPanel Grid.Column="1">
                    <ListBox ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.HorizontalScrollBarVisibility="Disabled" BorderBrush="Transparent" BorderThickness="0" Panel.ZIndex="5" x:Name="PhotoThumbnails" Background="Transparent" HorizontalAlignment="Stretch" Height="85" ItemsSource="{Binding Path=Photos}" ItemsPanel="{StaticResource VirtualizingMiniHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False" KeyboardNavigation.DirectionalNavigation="Continue" KeyboardNavigation.TabNavigation="Continue" ItemContainerStyle="{StaticResource UnselectableListBoxItem}"/>
                </StackPanel>
            </Grid>
        </Grid>
    </DataTemplate>

    <!-- Style for list items that are focusable but not tab-able -->
    <Style TargetType="{x:Type ListBoxItem}" x:Key="NoTabStopListBoxItem">
        <Style.Resources>
            <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="Transparent"/>
            <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="Transparent"/>
        </Style.Resources>
        <Setter Property="FocusVisualStyle" Value="{x:Null}" />
        <Setter Property="KeyboardNavigation.IsTabStop" Value="False"/>
    </Style>

    <!-- Gallery home template used when the window is very small -->
    <ControlTemplate TargetType="{x:Type ScePhotoViewer:GalleryHomeControl}" x:Key="GalleryHome_MiniList">
        <Grid DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery}">
            <ListBox ItemsSource="{Binding Path=PhotoAlbums}" HorizontalContentAlignment="Stretch" KeyboardNavigation.DirectionalNavigation="Contained" 
                 KeyboardNavigation.TabNavigation="Contained" ScrollViewer.HorizontalScrollBarVisibility="Disabled" BorderBrush="Transparent" 
                 Background="Transparent" ItemTemplate="{StaticResource MiniListPhotoAlbum}" ItemContainerStyle="{StaticResource NoTabStopListBoxItem}">
            </ListBox>
        </Grid>
    </ControlTemplate>

    <!-- Gallery home template used when the window is tall but not very wide -->
    <ControlTemplate TargetType="{x:Type ScePhotoViewer:GalleryHomeControl}" x:Key="GalleryHome_Tall">
        <Grid Margin="0,0,15,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="15"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <TextBlock Foreground="#DDDDDD" FontSize="10" Margin="10,0" HorizontalAlignment="Right">
                <Hyperlink Command="ScePhotoViewer:GalleryHomeControl.SwitchTemplateCommand" CommandParameter="{Binding}" Style="{StaticResource AlbumTitleLink}" KeyboardNavigation.DirectionalNavigation="None" KeyboardNavigation.IsTabStop="True">
                    <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSwitchText}" />
                </Hyperlink>
                </TextBlock>
            <Grid Margin="20,0,5,0" Grid.Row="1">
                <ItemsControl HorizontalAlignment="Center" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=RightListPhotoAlbumNavigators}" ItemsPanel="{StaticResource VirtualizingVerticalRowPanel}" ItemTemplate="{StaticResource RightBarPhotoAlbum}" Margin="0,10,0,0" Focusable="False"/>
            </Grid>
        </Grid>
    </ControlTemplate>

    <!-- Gallery home template used when the window is wide, but not very tall -->
    <ControlTemplate TargetType="{x:Type ScePhotoViewer:GalleryHomeControl}" x:Key="GalleryHome_Wide">
        <Grid Margin="0,0,15,5">
            <Grid.RowDefinitions>
                <RowDefinition Height="15"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <TextBlock Foreground="#DDDDDD" FontSize="10" Margin="10,0" HorizontalAlignment="Right">
                <Hyperlink Command="ScePhotoViewer:GalleryHomeControl.SwitchTemplateCommand" CommandParameter="{Binding}" Style="{StaticResource AlbumTitleLink}" KeyboardNavigation.DirectionalNavigation="None" KeyboardNavigation.IsTabStop="True">
                    <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSwitchText}" />
                </Hyperlink>
                </TextBlock>
            <DockPanel DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery}" Grid.Row="1">
                <!-- Bottom Area -->
                <Grid DockPanel.Dock="Bottom" Height="100" x:Name="DockedBottomGrid" DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[1]}">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Line X1="0" Y1="0" X2="{Binding ElementName=DockedBottomGrid, Path=ActualWidth}" Y2="0" Stroke="#888888" StrokeThickness="1" Margin="20,0,0,10" StrokeDashArray="1 2"/>
                    <Grid Margin="20,0,0,0" Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Margin="0,10,25,0">
                            <TextBlock Foreground="#DDDDDD" FontWeight="Bold" FontSize="14" TextWrapping="Wrap"><Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}"><TextBlock Text="{Binding Path=Title}"/></Hyperlink></TextBlock>
                            <TextBlock Foreground="#DDDDDD">
                            <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> | 
                            <TextBlock Text="{Binding Path=Photos.Count}"/> Photos 
                        </TextBlock>
                        </StackPanel>
                        <ItemsControl Grid.Column="1" ItemsSource="{Binding Path=Photos}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                    </Grid>
                </Grid>

                <!-- Right Area -->
                <Grid DockPanel.Dock="Right" Width="400" x:Name="DockedRightGrid" Margin="0,0,0,15">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[2]}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Line X1="0" Y1="0" Y2="{Binding ElementName=DockedRightGrid, Path=ActualHeight}" X2="0" Stroke="#888888" StrokeThickness="1" Margin="15,15,0,10" StrokeDashArray="1 2"/>
                    <ItemsControl Grid.Column="1" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=RightListPhotoAlbumNavigators}" ItemsPanel="{StaticResource VirtualizingVerticalRowPanel}" ItemTemplate="{StaticResource RightBarPhotoAlbum}" Margin="0,10,0,0" Focusable="False"/>
                </Grid>

                <!-- Center Area -->
                <Grid x:Name="CenterGrid" Margin="0,0,0,15">
                    <Grid DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[0]}" Margin="20,15,0,10">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid Panel.ZIndex="3" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoCommand}" CommandParameter="{Binding Path=Photos[0]}" Style="{StaticResource AnimatedItemButton}" Margin="22,17,17,17">
                                <Border BorderBrush="#444444" BorderThickness="1" VerticalAlignment="Center" Margin="5">
                                    <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" Width="175" Height="175" RenderTransformOrigin="0.5,0.5" Focusable="False"/>
                                </Border>
                            </Button>
                            <StackPanel Grid.Column="1" Margin="10,10,10,0"  MaxHeight="215" VerticalAlignment="Top">
                                <TextBlock Foreground="#DDDDDD" FontSize="42" FontFamily="Cambria" TextWrapping="Wrap"><Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}"><TextBlock Text="{Binding Path=Title}" TextWrapping="Wrap"/></Hyperlink></TextBlock>
                                <TextBlock Foreground="#DDDDDD"  FontSize="14">
                                <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> | 
                                <TextBlock Text="{Binding Path=Photos.Count}"/> Photos 
                            </TextBlock>
                                <TextBlock Text="{Binding Path=Description, Mode=OneWay, Converter={StaticResource HtmlToCleanStringConverter}}" Foreground="#DDDDDD" FontSize="16" Margin="0,14,0,0" TextWrapping="Wrap"/>
                        </StackPanel>
                            <ItemsControl Margin="20,0,20,0" Grid.ColumnSpan="2" Grid.Row="1" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=FirstAlbumPhotoThumbnails}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                        </Grid>
                        <Grid Opacity="0.3" Panel.ZIndex="2">
                            <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" RenderTransformOrigin="0.5,0.5" Focusable="False"/>
                        </Grid>
                    </Grid>
                </Grid>
            </DockPanel>
        </Grid>
    </ControlTemplate>

    <!-- Gallery home template used when the window is wide but not tall enough to display the description and thumbnails for both of the first two albums -->
    <ControlTemplate TargetType="{x:Type ScePhotoViewer:GalleryHomeControl}" x:Key="GalleryHome_Medium">
        <Grid Margin="0,0,15,5">
            <Grid.RowDefinitions>
                <RowDefinition Height="15"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <TextBlock Foreground="#DDDDDD" FontSize="10" Margin="10,0" HorizontalAlignment="Right">
          <Hyperlink Command="ScePhotoViewer:GalleryHomeControl.SwitchTemplateCommand" CommandParameter="{Binding}" Style="{StaticResource AlbumTitleLink}" KeyboardNavigation.DirectionalNavigation="None" KeyboardNavigation.IsTabStop="True">
            <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSwitchText}" />
          </Hyperlink>
        </TextBlock>
            <DockPanel Grid.Row="1">
                <!-- Bottom Area -->
                <Grid DockPanel.Dock="Bottom" Height="100" x:Name="DockedBottomGrid" DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[2]}">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Line X1="0" Y1="0" X2="{Binding ElementName=DockedBottomGrid, Path=ActualWidth}" Y2="0" Stroke="#888888" StrokeThickness="1" Margin="20,0,0,10" StrokeDashArray="1 2"/>
                    <Grid Margin="20,0,0,0" Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Margin="0,10,25,0">
                            <TextBlock Foreground="#DDDDDD" FontWeight="Bold" FontSize="14" TextWrapping="Wrap">
                  <Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}">
                    <TextBlock Text="{Binding Path=Title}"/>
                  </Hyperlink>
                </TextBlock>
                            <TextBlock Foreground="#DDDDDD">
                  <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> |
                  <TextBlock Text="{Binding Path=Photos.Count}"/> Photos
                </TextBlock>
                        </StackPanel>
                        <ItemsControl Grid.Column="1" ItemsSource="{Binding Path=Photos}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                    </Grid>
                </Grid>

                <!-- Right Area -->
                <Grid DockPanel.Dock="Right" Width="400" x:Name="DockedRightGrid" Margin="0,0,0,15">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[3]}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Line X1="0" Y1="0" Y2="{Binding ElementName=DockedRightGrid, Path=ActualHeight}" X2="0" Stroke="#888888" StrokeThickness="1" Margin="15,15,0,0" StrokeDashArray="1 2"/>
                    <ItemsControl Grid.Column="1" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=RightListPhotoAlbumNavigators}" ItemsPanel="{StaticResource VirtualizingVerticalRowPanel}" ItemTemplate="{StaticResource RightBarPhotoAlbum}" Margin="0,10,0,0" Focusable="False"/>
                </Grid>

                <!-- Center Area -->
                <Grid x:Name="CenterGrid" Margin="0,0,0,15">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[0]}" Margin="20,15,0,10">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid Panel.ZIndex="3" MaxHeight="215">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button Grid.RowSpan="3" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoCommand}" CommandParameter="{Binding Path=Photos[0]}" Style="{StaticResource AnimatedItemButton}" Margin="22,17,17,17">
                                <Border BorderBrush="#444444" BorderThickness="1" VerticalAlignment="Center" Margin="5">
                                    <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" Width="175" Height="175" RenderTransformOrigin="0.5,0.5" Focusable="False"/>
                                </Border>
                            </Button>
                            <StackPanel Grid.Column="1" Margin="10,-10,10,0" VerticalAlignment="Top" >
                                <TextBlock Foreground="#DDDDDD" FontSize="42" FontFamily="Cambria" TextWrapping="Wrap">
                    <Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}">
                      <TextBlock Text="{Binding Path=Title}" TextWrapping="Wrap"/>
                    </Hyperlink>
                  </TextBlock>
                                <TextBlock Foreground="#DDDDDD"  FontSize="14">
                    <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> |
                    <TextBlock Text="{Binding Path=Photos.Count}"/> Photos
                  </TextBlock>
                            </StackPanel>
                            <ItemsControl Margin="0,0,0,0" VerticalAlignment="Center" Grid.Column="1" Grid.Row="1" Grid.RowSpan="2" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=FirstAlbumPhotoThumbnails}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                        </Grid>
                        <Grid Opacity="0.3" Panel.ZIndex="2">
                            <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" RenderTransformOrigin="0.5,0.5"  Focusable="False"/>
                        </Grid>
                    </Grid>
                    <Line Grid.Row="1" X1="0" Y1="0" X2="{Binding ElementName=CenterGrid, Path=ActualWidth}" Y2="0" Stroke="#888888" StrokeThickness="1" Margin="20,5,5,0" StrokeDashArray="1 2"/>
                    <Grid DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[1]}" Margin="20,15,0,5" Grid.Row="2">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid Panel.ZIndex="3" MaxHeight="215">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button Grid.RowSpan="3" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoCommand}" CommandParameter="{Binding Path=Photos[0]}" Style="{StaticResource AnimatedItemButton}" Margin="22,17,17,17">
                                <Border BorderBrush="#444444" BorderThickness="1" VerticalAlignment="Center" Margin="5">
                                    <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" Width="175" Height="175" RenderTransformOrigin="0.5,0.5" Focusable="False"/>
                                </Border>
                            </Button>
                            <StackPanel Grid.Column="1" Margin="10,-10,10,0" VerticalAlignment="Top" >
                                <TextBlock Foreground="#DDDDDD" FontSize="42" FontFamily="Cambria" TextWrapping="Wrap">
                    <Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}">
                      <TextBlock Text="{Binding Path=Title}" TextWrapping="Wrap"/>
                    </Hyperlink>
                  </TextBlock>
                                <TextBlock Foreground="#DDDDDD"  FontSize="14">
                    <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> |
                    <TextBlock Text="{Binding Path=Photos.Count}"/> Photos
                  </TextBlock>
                            </StackPanel>
                            <ItemsControl Margin="0,0,0,0" VerticalAlignment="Center" Grid.Column="1" Grid.Row="1" Grid.RowSpan="2" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SecondAlbumPhotoThumbnails}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                        </Grid>
                        <Grid Opacity="0.3" Panel.ZIndex="2">
                            <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" RenderTransformOrigin="0.5,0.5"  Focusable="False"/>
                        </Grid>
                    </Grid>
                </Grid>
            </DockPanel>
        </Grid>
    </ControlTemplate>

    <!-- Gallery home template used when the window is both wide and tall -->
    <ControlTemplate TargetType="{x:Type ScePhotoViewer:GalleryHomeControl}" x:Key="GalleryHome_Large">
        <Grid Margin="0,0,15,5">
            <Grid.RowDefinitions>
                <RowDefinition Height="15"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <TextBlock Foreground="#DDDDDD" FontSize="10" Margin="10,0" HorizontalAlignment="Right">
                <Hyperlink Command="ScePhotoViewer:GalleryHomeControl.SwitchTemplateCommand" CommandParameter="{Binding}" Style="{StaticResource AlbumTitleLink}" KeyboardNavigation.DirectionalNavigation="None" KeyboardNavigation.IsTabStop="True">
                    <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSwitchText}" />
                </Hyperlink>
                </TextBlock>
            <DockPanel Grid.Row="1">
                <!-- Bottom Area -->
                <Grid DockPanel.Dock="Bottom" Height="100" x:Name="DockedBottomGrid" DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[2]}">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Line X1="0" Y1="0" X2="{Binding ElementName=DockedBottomGrid, Path=ActualWidth}" Y2="0" Stroke="#888888" StrokeThickness="1" Margin="20,0,0,10" StrokeDashArray="1 2"/>
                    <Grid Margin="20,0,0,0" Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Margin="0,10,25,0">
                            <TextBlock Foreground="#DDDDDD" FontWeight="Bold" FontSize="14" TextWrapping="Wrap">
                                <Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}">
                                    <TextBlock Text="{Binding Path=Title}"/>
                                </Hyperlink>
                            </TextBlock>
                            <TextBlock Foreground="#DDDDDD">
                            <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> | 
                            <TextBlock Text="{Binding Path=Photos.Count}"/> Photos 
                        </TextBlock>
                        </StackPanel>
                        <ItemsControl Grid.Column="1" ItemsSource="{Binding Path=Photos}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                    </Grid>
                </Grid>

                <!-- Right Area -->
                <Grid DockPanel.Dock="Right" Width="400" x:Name="DockedRightGrid" Margin="0,0,0,15">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[3]}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Line X1="0" Y1="0" Y2="{Binding ElementName=DockedRightGrid, Path=ActualHeight}" X2="0" Stroke="#888888" StrokeThickness="1" Margin="15,15,0,0" StrokeDashArray="1 2"/>
                    <ItemsControl Grid.Column="1" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=RightListPhotoAlbumNavigators}" ItemsPanel="{StaticResource VirtualizingVerticalRowPanel}" ItemTemplate="{StaticResource RightBarPhotoAlbum}" Margin="0,10,0,0" Focusable="False"/>
                </Grid>

                <!-- Center Area -->
                <Grid x:Name="CenterGrid" Margin="0,0,0,15">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[0]}" Margin="20,15,0,10">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid Panel.ZIndex="3" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoCommand}" CommandParameter="{Binding Path=Photos[0]}" Style="{StaticResource AnimatedItemButton}" Margin="22,17,17,17">
                                <Border BorderBrush="#444444" BorderThickness="1" VerticalAlignment="Center" Margin="5">
                                    <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" Width="175" Height="175" RenderTransformOrigin="0.5,0.5" Focusable="False"/>
                                </Border>
                            </Button>
                            <StackPanel Grid.Column="1" Margin="10,10,10,0" MaxHeight="215" VerticalAlignment="Top">
                                <TextBlock Foreground="#DDDDDD" FontSize="42" FontFamily="Cambria" TextWrapping="Wrap"><Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}"><TextBlock Text="{Binding Path=Title}" TextWrapping="Wrap"/></Hyperlink></TextBlock>
                                <TextBlock Foreground="#DDDDDD"  FontSize="14">
                                <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> | 
                                <TextBlock Text="{Binding Path=Photos.Count}"/> Photos 
                            </TextBlock>
                                <TextBlock Text="{Binding Path=Description, Mode=OneWay, Converter={StaticResource HtmlToCleanStringConverter}}" Foreground="#DDDDDD" FontSize="16" Margin="0,14,0,0" TextWrapping="Wrap"/>
                        </StackPanel>
                            <ItemsControl Margin="20,0,20,0" Grid.ColumnSpan="2" Grid.Row="1" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=FirstAlbumPhotoThumbnails}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                        </Grid>
                        <Grid Opacity="0.3" Panel.ZIndex="2">
                            <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" RenderTransformOrigin="0.5,0.5"  Focusable="False"/>
                        </Grid>
                    </Grid>
                    <Line Grid.Row="1" X1="0" Y1="0" X2="{Binding ElementName=CenterGrid, Path=ActualWidth}" Y2="0" Stroke="#888888" StrokeThickness="1" Margin="20,5,5,0" StrokeDashArray="1 2"/>
                    <Grid DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery.PhotoAlbums[1]}" Margin="20,15,0,5" Grid.Row="2">
                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid Panel.ZIndex="3" >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Button Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoCommand}" CommandParameter="{Binding Path=Photos[0]}" Style="{StaticResource AnimatedItemButton}" Margin="22,17,17,17">
                                <Border BorderBrush="#444444" BorderThickness="1" VerticalAlignment="Center" Margin="5">
                                    <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" Width="175" Height="175" RenderTransformOrigin="0.5,0.5" Focusable="False"/>
                                </Border>
                            </Button>
                            <StackPanel Grid.Column="1" Margin="10,10,10,0" MaxHeight="215" VerticalAlignment="Top">
                                <TextBlock Foreground="#DDDDDD" FontSize="42" FontFamily="Cambria" TextWrapping="Wrap"><Hyperlink Style="{StaticResource AlbumTitleLink}" Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToPhotoAlbumCommand}" CommandParameter="{Binding}"><TextBlock Text="{Binding Path=Title}" TextWrapping="Wrap"/></Hyperlink></TextBlock>
                                <TextBlock Foreground="#DDDDDD"  FontSize="14">
                                <TextBlock Text="{Binding Path=ChangeDate, Converter={StaticResource DateTimeConverter}}"/> | 
                                <TextBlock Text="{Binding Path=Photos.Count}"/> Photos 
                            </TextBlock>
                                <TextBlock Text="{Binding Path=Description, Mode=OneWay, Converter={StaticResource HtmlToCleanStringConverter}}" Foreground="#DDDDDD" FontSize="16" Margin="0,14,0,0" TextWrapping="Wrap"/>
                        </StackPanel>
                            <ItemsControl Margin="20,0,20,0" Grid.ColumnSpan="2" Grid.Row="1" ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=SecondAlbumPhotoThumbnails}" ItemsPanel="{StaticResource VirtualizingHorizontalRowPanel}" ItemTemplate="{StaticResource GalleryItemTemplate}" Focusable="False"/>
                        </Grid>
                        <Grid Opacity="0.3" Panel.ZIndex="2">
                            <ScePhotoControls:LargePhotoThumbnailControl Photo="{Binding Path=Photos[0]}" RenderTransformOrigin="0.5,0.5"  Focusable="False"/>
                        </Grid>
                    </Grid>
                </Grid>
            </DockPanel>
        </Grid>
    </ControlTemplate>

    <!-- Collection of templates to use for the gallery home control, depending on the amount of space available -->
    <ScePhotoControls:SizeControlTemplateCollection x:Key="GalleryHomeTemplateCollection">
        <ScePhotoControls:SizeControlTemplate MinWidth="0" MinHeight="0" MaxWidth="800" MaxHeight="350" Template="{StaticResource GalleryHome_MiniList}" />
        <ScePhotoControls:SizeControlTemplate MinWidth="300" MinHeight="350" MaxWidth="1000"  Template="{StaticResource GalleryHome_Tall}" />
        <ScePhotoControls:SizeControlTemplate MinWidth="800" MaxHeight="455"  Template="{StaticResource GalleryHome_Tall}" />
        <ScePhotoControls:SizeControlTemplate MinWidth="1000" MinHeight="450" MaxHeight="650" Template="{StaticResource GalleryHome_Wide}" />
        <ScePhotoControls:SizeControlTemplate MinWidth="1000" MinHeight="650" MaxHeight="800" Template="{StaticResource GalleryHome_Medium}" />
        <ScePhotoControls:SizeControlTemplate MinWidth="1000" MinHeight="800"  Template="{StaticResource GalleryHome_Large}" />
    </ScePhotoControls:SizeControlTemplateCollection>


    <!-- Template tor display when a home photo album is navigated to -->
    <DataTemplate DataType="{x:Type ScePhotoData:HomePhotoAlbum}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <ScePhotoViewer:GalleryHomeControl Templates="{StaticResource GalleryHomeTemplateCollection}" FocusVisualStyle="{x:Null}"/>
            <!-- Navigation Controls -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,-2,10,5" Width="260">
                <Button Style="{DynamicResource OrangeArrowButtonLeftNoShadow}" Width="33" Height="25.3" 
                        Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.PreviousPhotoCommand}" 
                        ToolTip="Previous Photo" AutomationProperties.AutomationId="PreviousStory" AutomationProperties.Name="PreviousStory" />
                <Label x:Name="PhotoNavTextBlock" Content="Photo" VerticalAlignment="Center" Margin="5,0,5,0" Foreground="{StaticResource Foreground_ChromeTextContrast}"/>
                <Button Style="{DynamicResource OrangeArrowButtonRightNoShadow}" Width="33" Height="25.3"
                        Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NextPhotoCommand}"
                        ToolTip="Next Photo" AutomationProperties.AutomationId="NextPhoto" AutomationProperties.Name="NextPhoto" />
                <Grid Width="15" />
                <Button Style="{DynamicResource OrangeArrowButtonUpNoShadow}" Width="23" Height="35.3"
                        Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.PreviousPhotoAlbumCommand}"
                        ToolTip="Previous Album" AutomationProperties.AutomationId="PreviousPhotoAlbum" AutomationProperties.Name="PreviousPhotoAlbum" />
                <Label Content="Album" VerticalAlignment="Center" Margin="5,0,5,0" Foreground="{StaticResource Foreground_ChromeTextContrast}" />
                <Button Style="{DynamicResource OrangeArrowButtonDownNoShadow}" Width="23" Height="35.3" 
                        Command="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=NavigationCommands.NextPhotoAlbumCommand}" 
                        ToolTip="Next Album" AutomationProperties.AutomationId="NextPhotoAlbum" AutomationProperties.Name="NextPhotoAlbum" />
            </StackPanel>
        </Grid>
    </DataTemplate>

    <!-- Gallery home list view Template -->
    <ControlTemplate x:Key="GalleryListTemplate">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="15"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <TextBlock Foreground="#DDDDDD" FontSize="10" Margin="10,0" HorizontalAlignment="Right">
                <Hyperlink Command="ScePhotoViewer:GalleryHomeControl.SwitchTemplateCommand" CommandParameter="{Binding}" Style="{StaticResource AlbumTitleLink}">
                    <TextBlock Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSwitchText}" />
                </Hyperlink>
                </TextBlock>
            <Grid DataContext="{Binding Source={x:Static ScePhoto:ServiceProvider.ViewManager}, Path=PhotoGallery}" Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <TextBlock Text="{Binding Path=Description}" Foreground="#DDDDDD" FontWeight="Bold" FontSize="18"/>
            <ListBox ItemsSource="{Binding Path=PhotoAlbums}" HorizontalContentAlignment="Stretch" Grid.Row="1" x:Name="GalleryListBox" KeyboardNavigation.DirectionalNavigation="Contained" KeyboardNavigation.TabNavigation="Contained"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled" BorderBrush="Transparent" Background="Transparent" ItemTemplate="{StaticResource ListPhotoAlbum}" ItemContainerStyle="{StaticResource NoTabStopListBoxItem}">
               
            </ListBox>
            
            </Grid>
        </Grid>
    </ControlTemplate>

</ResourceDictionary>